# Тестирование операций ZenMoney

## Настройка

1. **Установите токен ZenMoney** в файле `.env`:
   ```
   ZENMONEY_TOKEN=your_zenmoney_token_here
   ```

2. **Убедитесь, что настроены Supabase**:
   ```
   SB_PROJECT_ID=your_supabase_project_id
   SB_TOKEN=your_supabase_token
   ```

## Запуск тестов

### Полное тестирование (создание реальных транзакций)
```bash
node test_zenmoney_operations.js
```

### Тестирование только структуры (без создания транзакций)
```bash
node test_zenmoney_operations.js structure
```

## Что тестируется

1. **Формирование структуры транзакции**:
   - Получение ID счетов из Supabase
   - Получение ID тегов из Supabase
   - Формирование правильной структуры для ZenMoney API

2. **Создание транзакций в ZenMoney**:
   - Отправка запроса к ZenMoney API
   - Обработка ответа
   - Логирование результатов

3. **Тестовые транзакции**:
   - Продукты: 500 ₽
   - Такси: 1000 ₽

## Результат

После успешного тестирования в вашем аккаунте ZenMoney появятся тестовые транзакции.

## Отладка

Если возникают ошибки:
1. Проверьте правильность токена ZenMoney
2. Убедитесь, что счета и теги существуют в Supabase
3. Проверьте логи для детальной информации об ошибках
